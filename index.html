<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StudentHub</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-blue-600 text-black">

  <!-- Login Page -->
  <div id="loginPage" class="flex items-center justify-center h-screen">
    <div class="bg-white p-8 rounded-2xl shadow w-96">
      <h2 class="text-2xl font-bold mb-6 text-center">Login to StudentHub</h2>
      <form id="loginForm" class="space-y-4">
        <div>
          <label class="block text-sm font-medium">Username</label>
          <input type="text" id="loginUsername" class="mt-1 block w-full border rounded-md p-2" placeholder="Enter Username" required />
        </div>
        <div>
          <label class="block text-sm font-medium">Password</label>
          <input type="password" id="loginPassword" class="mt-1 block w-full border rounded-md p-2" placeholder="Enter password" required />
        </div>
        <p id="loginError" class="text-red-600 text-sm hidden">Invalid Username or Password</p>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md w-full hover:bg-blue-700">
          Login
        </button>
      </form>
      <p class="text-sm text-blue-600 hover:underline cursor-pointer mt-3 text-center" id="forgotPasswordLink">
        Forgot Password?
      </p>
    </div>
  </div>

  <!-- Reset Password Modal -->
  <div id="resetPasswordBox" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-2xl shadow w-96">
      <h2 class="text-xl font-bold mb-4">Reset Password</h2>
      <form id="resetPasswordForm" class="space-y-4">
        <div>
          <label class="block text-sm font-medium">Enter Your Username</label>
          <input type="text" id="resetUsername" class="mt-1 block w-full border rounded-md p-2" required />
        </div>
        <div>
          <label class="block text-sm font-medium">New Password</label>
          <input type="password" id="newPassword" class="mt-1 block w-full border rounded-md p-2" required />
        </div>
        <p id="resetError" class="text-red-600 text-sm hidden">User not found!</p>
        <div class="flex justify-between">
          <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
            Reset
          </button>
          <button type="button" id="cancelReset" class="bg-gray-400 text-white px-4 py-2 rounded-md hover:bg-gray-500">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- StudentHub (Hidden by Default) -->
  <div id="studentHub" class="hidden max-w-5xl mx-auto p-6 space-y-6">
    <!-- Header -->
    <header class="flex items-center justify-between border-b pb-4">
      <h1 class="text-3xl font-bold">StudentHub</h1>
      <nav class="space-x-4">
        <a href="#dashboard" class="text-black hover:underline text-2xl font-bold">Dashboard</a>
        <a href="#students" class="text-black hover:underline text-2xl font-bold">Students</a>
        <a href="#add-student" class="text-black hover:underline text-2xl font-bold">Add Student</a>
        <button id="logoutBtn" class="ml-6 bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700">
          Logout
        </button>
      </nav>
    </header>

    <!-- Dashboard Section -->
    <section id="dashboard" class="bg-gray-50 text-gray-900 rounded-2xl shadow p-6">
      <h2 class="text-xl font-semibold mb-4">Dashboard</h2>
      <p>Welcome, <span id="loggedUser"></span> ðŸ‘‹</p>
      <p>Total Students: <span id="totalStudents">0</span></p>
    </section>

    <!-- Students Section -->
    <section id="students" class="bg-gray-50 text-gray-900 rounded-2xl shadow p-6">
      <h2 class="text-xl font-semibold mb-4">Students</h2>
      <table class="w-full text-left border-collapse">
        <thead>
          <tr class="border-b">
            <th class="p-2">ID</th>
            <th class="p-2">Name</th>
            <th class="p-2">Department</th>
            <th class="p-2">Year</th>
            <th class="p-2">GPA</th>
          </tr>
        </thead>
        <tbody id="student-table"></tbody>
      </table>
    </section>

    <!-- Add Student Section -->
    <section id="add-student" class="bg-gray-50 text-gray-900 rounded-2xl shadow p-6">
      <h2 class="text-xl font-semibold mb-4">Add Student</h2>
      <form id="studentForm" class="space-y-4">
        <div>
          <label class="block text-sm font-medium">First Name</label>
          <input type="text" id="firstName" class="mt-1 block w-full border rounded-md p-2" required />
        </div>
        <div>
          <label class="block text-sm font-medium">Last Name</label>
          <input type="text" id="lastName" class="mt-1 block w-full border rounded-md p-2" required />
        </div>
        <div>
          <label class="block text-sm font-medium">Email</label>
          <input type="email" id="email" class="mt-1 block w-full border rounded-md p-2" required />
        </div>
        <div>
          <label class="block text-sm font-medium">Department</label>
          <select id="department" class="mt-1 block w-full border rounded-md p-2">
            <option>Computer Science</option>
            <option>Mathematics</option>
            <option>Engineering</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium">Year</label>
          <input type="number" id="year" min="1" max="5" class="mt-1 block w-full border rounded-md p-2" required />
        </div>
        <div>
          <label class="block text-sm font-medium">GPA</label>
          <input type="number" id="gpa" step="0.1" min="0" max="10" class="mt-1 block w-full border rounded-md p-2" required />
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
          Add Student
        </button>
      </form>
    </section>
  </div>

  <!-- JavaScript -->
  <script>
    const loginPage = document.getElementById("loginPage");
    const studentHub = document.getElementById("studentHub");
    const loginForm = document.getElementById("loginForm");
    const loginError = document.getElementById("loginError");
    const loggedUser = document.getElementById("loggedUser");
    const logoutBtn = document.getElementById("logoutBtn");

    // Example list of users
    const users = [
      { username: "admin", password: "1234" },
      { username: "student01", password: "pass01" },
      { username: "student02", password: "pass02" }
    ];

    let currentUser = null;

    // Handle login
    loginForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const username = document.getElementById("loginUsername").value;
      const password = document.getElementById("loginPassword").value;

      const user = users.find(u => u.username === username && u.password === password);

      if (user) {
        currentUser = user.username;
        loginPage.classList.add("hidden");
        studentHub.classList.remove("hidden");
        loggedUser.textContent = currentUser;
        loginError.classList.add("hidden");
      } else {
        loginError.classList.remove("hidden");
      }
    });

    // Handle logout
    logoutBtn.addEventListener("click", () => {
      currentUser = null;
      studentHub.classList.add("hidden");
      loginPage.classList.remove("hidden");
    });

    // Forgot Password Logic
    const forgotPasswordLink = document.getElementById("forgotPasswordLink");
    const resetPasswordBox = document.getElementById("resetPasswordBox");
    const resetPasswordForm = document.getElementById("resetPasswordForm");
    const resetError = document.getElementById("resetError");
    const cancelReset = document.getElementById("cancelReset");

    forgotPasswordLink.addEventListener("click", () => {
      resetPasswordBox.classList.remove("hidden");
    });

    cancelReset.addEventListener("click", () => {
      resetPasswordBox.classList.add("hidden");
      resetPasswordForm.reset();
      resetError.classList.add("hidden");
    });

    resetPasswordForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const resetUsername = document.getElementById("resetUsername").value;
      const newPassword = document.getElementById("newPassword").value;

      const user = users.find(u => u.username === resetUsername);

      if (user) {
        user.password = newPassword;
        alert("Password reset successfully! Please login with your new password.");
        resetPasswordBox.classList.add("hidden");
        resetPasswordForm.reset();
        resetError.classList.add("hidden");
      } else {
        resetError.classList.remove("hidden");
      }
    });

    // Student Form
    const studentTable = document.getElementById("student-table");
    const form = document.getElementById("studentForm");
    const totalStudents = document.getElementById("totalStudents");
    let studentCount = 0;

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const firstName = document.getElementById("firstName").value;
      const lastName = document.getElementById("lastName").value;
      const department = document.getElementById("department").value;
      const year = document.getElementById("year").value;
      const gpa = document.getElementById("gpa").value;

      studentCount++;

      const newRow = document.createElement("tr");
      newRow.innerHTML = `
        <td class="p-2">STU${String(studentCount).padStart(3, "0")}</td>
        <td class="p-2">${firstName} ${lastName}</td>
        <td class="p-2">${department}</td>
        <td class="p-2">${year}</td>
        <td class="p-2">${gpa}</td>
      `;

      studentTable.appendChild(newRow);
      totalStudents.textContent = studentCount;
      form.reset();
    });
  </script>
</body>
</html>
